<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="LiuSw">
    
    <title>
        
            Prometheus普罗米修斯之安装配置使用 |
        
        Warren&#39; Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.ico">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.ico","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"心若有所向往，何惧道阻且长。   ▶️"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Warren&#39; Blog
            </a>
        </div>


        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/navigate"
                            >
                                导航
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/navigate">导航</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Prometheus普罗米修斯之安装配置使用</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">LiuSw</span>
                        
                            <span class="author-label">Lv6</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2024-11-21 19:09:48
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Prometheus/">Prometheus</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Prometheus/">Prometheus</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>20.6k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>125 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="Prometheus普罗米修斯之安装配置使用"><a href="#Prometheus普罗米修斯之安装配置使用" class="headerlink" title="Prometheus普罗米修斯之安装配置使用"></a>Prometheus普罗米修斯之安装配置使用</h1><h2 id="一、基础环境"><a href="#一、基础环境" class="headerlink" title="一、基础环境"></a>一、基础环境</h2><table>
<thead>
<tr>
<th><strong>环境&#x2F;组件</strong></th>
<th><strong>版本</strong></th>
<th><strong>下载地址</strong></th>
</tr>
</thead>
<tbody><tr>
<td>操作系统</td>
<td>CentOS7.6</td>
<td></td>
</tr>
<tr>
<td>go</td>
<td>1.15.7</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://golang.org/dl/" >https://golang.org/dl/<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>Prometheus</td>
<td>2.6.0</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://prometheus.io/download/#prometheus" >https://prometheus.io/download/#prometheus<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>Grafana</td>
<td>5.4.2</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://dl.grafana.com/oss/release/grafana-5.4.2-1.x86_64.rpm" >https://dl.grafana.com/oss/release/grafana-5.4.2-1.x86_64.rpm<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>exporter</td>
<td></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://prometheus.io/docs/instrumenting/exporters/" >https://prometheus.io/docs/instrumenting/exporters/<i class="fas fa-external-link-alt"></i></a></td>
</tr>
</tbody></table>
<h2 id="二、安装go"><a href="#二、安装go" class="headerlink" title="二、安装go"></a>二、安装go</h2><p> <strong>1.解压安装</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local/ -xvf go1.15.7.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p> <strong>2.配置环境变量</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PATH=<span class="variable">$PATH</span>:/usr/local/go/bin&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p><strong>3.验证</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go version</span><br></pre></td></tr></table></figure>



<h2 id="三、安装Prometheus"><a href="#三、安装Prometheus" class="headerlink" title="三、安装Prometheus"></a>三、安装Prometheus</h2><p> <strong>1.安装</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local/ -xvf prometheus-2.28.1.linux-amd64.tar</span><br><span class="line"><span class="built_in">ln</span> -sv /usr/local/prometheus-2.28.1.linux-amd64/ /usr/local/Prometheus</span><br></pre></td></tr></table></figure>

<p> <strong>2.注册服务</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tee</span> /etc/systemd/system/prometheus.service &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">[Unit]</span></span><br><span class="line"><span class="string">Description=Prometheus</span></span><br><span class="line"><span class="string">Documentation=https://prometheus.io/</span></span><br><span class="line"><span class="string">After=network.target</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[Service]</span></span><br><span class="line"><span class="string">Type=simple</span></span><br><span class="line"><span class="string">ExecStart=/usr/local/Prometheus \</span></span><br><span class="line"><span class="string">  --config.file=/usr/local/Prometheus/prometheus.yml \</span></span><br><span class="line"><span class="string">  --web.listen-address=:9090</span></span><br><span class="line"><span class="string">Restart=on-failure</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[Install]</span></span><br><span class="line"><span class="string">WantedBy=multi-user.target</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<p> <strong>3.启动</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl status prometheus</span><br><span class="line">systemctl start prometheus</span><br><span class="line">systemctl <span class="built_in">enable</span> prometheus</span><br></pre></td></tr></table></figure>

<p>  <strong>4.登录验证</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">浏览器打开IP:9090端口即可打开普罗米修斯自带的监控页面</span><br></pre></td></tr></table></figure>



<h2 id="四、安装Grafana"><a href="#四、安装Grafana" class="headerlink" title="四、安装Grafana"></a>四、安装Grafana</h2><p><strong>普罗米修斯默认的页面可能没有那么直观，我们可以安装grafana使监控看起来更直观</strong></p>
<p> <strong>1.安装</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y grafana-5.4.2-1.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>yum源无法使用时强制rpm安装</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh --nodeps grafana-5.4.2-1.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p> <strong>2.启动</strong> </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl <span class="built_in">enable</span> grafana-server.service</span><br><span class="line">systemctl start grafana-server.service</span><br></pre></td></tr></table></figure>

<p> <strong>3.访问grafana</strong> </p>
<p> <strong>浏览器访问IP:3000端口，即可打开grafana页面，默认用户名密码都是admin</strong></p>
<p><strong>初次登录会要求修改默认的登录密码</strong></p>
<h2 id="五、一些常用监控举例"><a href="#五、一些常用监控举例" class="headerlink" title="五、一些常用监控举例"></a>五、一些常用监控举例</h2><h3 id="1-监控linux机器（node-exporter）"><a href="#1-监控linux机器（node-exporter）" class="headerlink" title="1.监控linux机器（node-exporter）"></a>1.监控linux机器（node-exporter）</h3><p> 被监控的机器安装node-exporter </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar  -zxvf  node_exporter-0.17.0.linux-amd64.tar.gz -C /usr/local/</span><br></pre></td></tr></table></figure>

<p>注册node-exporter 服务</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /lib/systemd/system/node_exporter.service</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=This is prometheus node exporter</span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/local/node_exporter/node_exporter --web.listen-address=:9101</span><br><span class="line">ExecReload=/bin/kill -HUP <span class="variable">$MAINPID</span></span><br><span class="line">KillMode=process</span><br><span class="line">Restart=on-failure</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>启动服务</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl status node_exporter</span><br><span class="line">systemctl start node_exporter</span><br><span class="line">systemctl <span class="built_in">enable</span> node_exporter</span><br></pre></td></tr></table></figure>

<p> <strong>普罗米修斯配置文件</strong>添加监控项 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/Prometheus/prometheus.yml</span><br></pre></td></tr></table></figure>

<p> 默认node-exporter端口为<strong>9100</strong><br> 添加如下配置:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- job_name: <span class="string">&#x27;node_exporter&#x27;</span></span><br><span class="line">  static_configs:</span><br><span class="line">  - targets: [<span class="string">&#x27;192.168.0.102:9100&#x27;</span>]</span><br><span class="line">    labels:</span><br><span class="line">      instance: Prometheus</span><br></pre></td></tr></table></figure>

<p> 重启普罗米修斯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart prometheus</span><br></pre></td></tr></table></figure>

<p> grafana导入画好的dashboard模板</p>
<details>   <summary>dashboard json</summary>   <pre><code>
&#123;
  "__inputs": [
    &#123;
      "name": "DS_PROMETHEUS_111",
      "label": "prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    &#125;
  ],
  "__requires": [
    &#123;
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "5.3.2"
    &#125;,
    &#123;
      "type": "panel",
      "id": "grafana-piechart-panel",
      "name": "Pie Chart",
      "version": "1.3.3"
    &#125;,
    &#123;
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "panel",
      "id": "singlestat",
      "name": "Singlestat",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": "5.0.0"
    &#125;
  ],
  "annotations": &#123;
    "list": [
      &#123;
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      &#125;
    ]
  &#125;,
  "description": "使用 Node Exporter v0.16，精简优化重要指标展示。\r\n包含：CPU 内存 磁盘 IO 网络 温度等监控指标。\r\nhttps://github.com/starsliao/Prometheus",
  "editable": true,
  "gnetId": 8919,
  "graphTooltip": 0,
  "id": null,
  "iteration": 1542357033300,
  "links": [],
  "panels": [
    &#123;
      "content": "",
      "editable": true,
      "error": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      &#125;,
      "id": 11,
      "links": [],
      "minSpan": 4,
      "mode": "html",
      "repeat": "node",
      "repeatDirection": "h",
      "style": &#123;&#125;,
      "title": "$node",
      "type": "text"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 1,
      "description": "",
      "format": "s",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 2,
        "x": 0,
        "y": 1
      &#125;,
      "hideTimeOverride": true,
      "id": 15,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "time() - node_boot_time_seconds&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": false,
          "instant": true,
          "intervalFactor": 2,
          "refId": "A",
          "step": 40
        &#125;
      ],
      "thresholds": "",
      "title": "系统运行时间",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "100%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "description": "",
      "format": "short",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 2,
        "w": 2,
        "x": 2,
        "y": 1
      &#125;,
      "id": 14,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "count(count(node_cpu_seconds_total&#123;instance=~\"$node\", mode='system'&#125;) by (cpu))",
          "format": "time_series",
          "instant": true,
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "",
      "title": "CPU 核数",
      "type": "singlestat",
      "valueFontSize": "100%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 2,
      "description": "",
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 3,
        "x": 4,
        "y": 1
      &#125;,
      "id": 167,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 2,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "100 - (avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"idle\"&#125;[5m])) * 100)",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "50,80",
      "title": "CPU使用率（5m）",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 2,
      "description": "",
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 3,
        "x": 7,
        "y": 1
      &#125;,
      "id": 20,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 2,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"iowait\"&#125;[5m])) * 100",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "20,50",
      "title": "CPU iowait（5m）",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 0,
      "description": "",
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 3,
        "x": 10,
        "y": 1
      &#125;,
      "hideTimeOverride": false,
      "id": 172,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "((node_memory_MemTotal_bytes&#123;instance=~\"$node\"&#125; - node_memory_MemFree_bytes&#123;instance=~\"$node\"&#125; - node_memory_Buffers_bytes&#123;instance=~\"$node\"&#125; - node_memory_Cached_bytes&#123;instance=~\"$node\"&#125;) / (node_memory_MemTotal_bytes&#123;instance=~\"$node\"&#125; )) * 100",
          "format": "time_series",
          "hide": false,
          "interval": "10s",
          "intervalFactor": 1,
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "80,90",
      "title": "内存使用率",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 2,
      "description": "",
      "format": "short",
      "gauge": &#123;
        "maxValue": 10000,
        "minValue": null,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 3,
        "x": 13,
        "y": 1
      &#125;,
      "hideTimeOverride": false,
      "id": 16,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "node_filefd_allocated&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "interval": "10s",
          "intervalFactor": 1,
          "refId": "B"
        &#125;
      ],
      "thresholds": "7000,9000",
      "title": "当前打开的文件描述符",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "70%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": null,
      "description": "",
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 4,
        "x": 16,
        "y": 1
      &#125;,
      "id": 166,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "repeatDirection": "h",
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "100 - ((node_filesystem_avail_bytes&#123;instance=~\"$node\",mountpoint=\"/\",fstype=~\"ext4|xfs\"&#125; * 100) / node_filesystem_size_bytes &#123;instance=~\"$node\",mountpoint=\"/\",fstype=~\"ext4|xfs\"&#125;)",
          "format": "time_series",
          "interval": "10s",
          "intervalFactor": 1,
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "70,90",
      "title": "根分区使用率",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": null,
      "description": "通过变量maxmount获取最大的分区。",
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": true,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 5,
        "w": 4,
        "x": 20,
        "y": 1
      &#125;,
      "id": 154,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "repeat": null,
      "repeatDirection": "h",
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "100 - ((node_filesystem_avail_bytes&#123;instance=~\"$node\",mountpoint=\"$maxmount\",fstype=~\"ext4|xfs\"&#125; * 100) / node_filesystem_size_bytes &#123;instance=~\"$node\",mountpoint=\"$maxmount\",fstype=~\"ext4|xfs\"&#125;)",
          "format": "time_series",
          "interval": "10s",
          "intervalFactor": 1,
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "70,90",
      "title": "最大分区($maxmount)使用率",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": null,
      "description": "",
      "format": "bytes",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 3,
        "w": 2,
        "x": 2,
        "y": 3
      &#125;,
      "id": 75,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "minSpan": 4,
      "nullPointMode": "null",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "70%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "expr": "node_memory_MemTotal_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "instant": true,
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;instance&#125;&#125;",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "",
      "title": "内存总量",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        &#123;
          "op": "=",
          "text": "N/A",
          "value": "null"
        &#125;
      ],
      "valueName": "current"
    &#125;,
    &#123;
      "aliasColors": &#123;
        "15分钟": "#6ED0E0",
        "1分钟": "#BF1B00",
        "5分钟": "#CCA300"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "editable": true,
      "error": false,
      "fill": 1,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 6,
        "w": 11,
        "x": 0,
        "y": 6
      &#125;,
      "height": "300",
      "id": 13,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "minSpan": 4,
      "nullPointMode": "null as zero",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": null,
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "node_load1&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "instant": false,
          "interval": "10s",
          "intervalFactor": 2,
          "legendFormat": "1m",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "expr": "node_load5&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "instant": false,
          "interval": "10s",
          "intervalFactor": 2,
          "legendFormat": "5m",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "expr": "node_load15&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "instant": false,
          "interval": "10s",
          "intervalFactor": 2,
          "legendFormat": "15m",
          "refId": "C",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "系统平均负载",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "/": "#eab839",
        "/boot": "#bf1b00",
        "/data": "#1f78c1"
      &#125;,
      "breakPoint": "100%",
      "cacheTimeout": null,
      "combine": &#123;
        "label": "Others",
        "threshold": ""
      &#125;,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 1,
      "fontSize": "50%",
      "format": "bytes",
      "gridPos": &#123;
        "h": 6,
        "w": 5,
        "x": 11,
        "y": 6
      &#125;,
      "hideTimeOverride": false,
      "id": 171,
      "interval": null,
      "legend": &#123;
        "header": "",
        "percentage": false,
        "percentageDecimals": 0,
        "show": true,
        "sideWidth": 142,
        "values": true
      &#125;,
      "legendType": "Right side",
      "links": [],
      "maxDataPoints": 3,
      "nullPointMode": "connected",
      "pieType": "pie",
      "strokeWidth": "2",
      "targets": [
        &#123;
          "expr": "node_filesystem_size_bytes &#123;instance=~\"$node\",fstype=~\"ext4|xfs\"&#125;",
          "format": "time_series",
          "instant": true,
          "interval": "10s",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;mountpoint&#125;&#125;",
          "refId": "A"
        &#125;
      ],
      "title": "磁盘总空间",
      "type": "grafana-piechart-panel",
      "valueName": "current"
    &#125;,
    &#123;
      "columns": [],
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "fontSize": "120%",
      "gridPos": &#123;
        "h": 6,
        "w": 8,
        "x": 16,
        "y": 6
      &#125;,
      "id": 164,
      "links": [],
      "pageSize": null,
      "scroll": true,
      "showHeader": true,
      "sort": &#123;
        "col": 11,
        "desc": true
      &#125;,
      "styles": [
        &#123;
          "alias": "Time",
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "pattern": "Time",
          "type": "hidden"
        &#125;,
        &#123;
          "alias": "分区",
          "colorMode": null,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "mappingType": 1,
          "pattern": "mountpoint",
          "thresholds": [
            ""
          ],
          "type": "string",
          "unit": "bytes"
        &#125;,
        &#123;
          "alias": "可用空间",
          "colorMode": "value",
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "mappingType": 1,
          "pattern": "Value #A",
          "thresholds": [
            "10000000000",
            "20000000000"
          ],
          "type": "number",
          "unit": "bytes"
        &#125;,
        &#123;
          "alias": "使用率",
          "colorMode": "cell",
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "mappingType": 1,
          "pattern": "Value #B",
          "thresholds": [
            "70",
            "90"
          ],
          "type": "number",
          "unit": "percentunit"
        &#125;,
        &#123;
          "alias": "总空间",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 1,
          "link": false,
          "mappingType": 1,
          "pattern": "Value #C",
          "thresholds": [],
          "type": "number",
          "unit": "bytes"
        &#125;,
        &#123;
          "alias": "文件系统",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "dateFormat": "YYYY-MM-DD HH:mm:ss",
          "decimals": 2,
          "link": false,
          "mappingType": 1,
          "pattern": "fstype",
          "thresholds": [],
          "type": "number",
          "unit": "short"
        &#125;,
        &#123;
          "alias": "",
          "colorMode": null,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "decimals": 2,
          "pattern": "/.*/",
          "preserveFormat": true,
          "sanitize": false,
          "thresholds": [],
          "type": "hidden",
          "unit": "short"
        &#125;
      ],
      "targets": [
        &#123;
          "expr": "node_filesystem_size_bytes&#123;instance=~'$node',fstype=~\"ext4|xfs\"&#125;",
          "format": "table",
          "hide": true,
          "instant": true,
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "C"
        &#125;,
        &#123;
          "expr": "node_filesystem_avail_bytes &#123;instance=~'$node',fstype=~\"ext4|xfs\"&#125;",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "10s",
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "A"
        &#125;,
        &#123;
          "expr": "1-(node_filesystem_free_bytes&#123;instance=~'$node',fstype=~\"ext4|xfs\"&#125; / node_filesystem_size_bytes&#123;instance=~'$node',fstype=~\"ext4|xfs\"&#125;)",
          "format": "table",
          "hide": false,
          "instant": true,
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "B"
        &#125;,
        &#123;
          "expr": "",
          "format": "table",
          "interval": "10s",
          "intervalFactor": 1,
          "legendFormat": "",
          "refId": "D"
        &#125;
      ],
      "title": "各分区可用空间",
      "transform": "table",
      "transparent": false,
      "type": "table"
    &#125;,
    &#123;
      "aliasColors": &#123;
        "Idle - Waiting for something to happen": "#052B51",
        "guest": "#9AC48A",
        "idle": "#052B51",
        "iowait": "#EAB839",
        "irq": "#BF1B00",
        "nice": "#C15C17",
        "sdb_每秒I/O操作%": "#d683ce",
        "softirq": "#E24D42",
        "steal": "#FCE2DE",
        "system": "#508642",
        "user": "#5195CE",
        "磁盘花费在I/O操作占比": "#ba43a9"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 2,
      "description": "node_disk_io_time_seconds_total：\n磁盘花费在输入/输出操作上的毫秒数。该值为累加值。（Milliseconds Spent Doing I/Os）\n\nirate(node_disk_io_time_seconds_total[1m])：\n计算每秒的速率：(last值-last前一个值)/时间戳差值，即：1秒钟内磁盘花费在I/O操作的时间占比。",
      "fill": 1,
      "gridPos": &#123;
        "h": 7,
        "w": 16,
        "x": 0,
        "y": 12
      &#125;,
      "id": 7,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "sideWidth": null,
        "sort": null,
        "sortDesc": null,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 1,
      "links": [],
      "minSpan": 4,
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": null,
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"system\"&#125;[1m]))",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "System",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "expr": "avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"user\"&#125;[1m]))",
          "format": "time_series",
          "intervalFactor": 2,
          "legendFormat": "User",
          "refId": "B",
          "step": 240
        &#125;,
        &#123;
          "expr": "avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"idle\"&#125;[1m]))",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "Idle",
          "refId": "F",
          "step": 240
        &#125;,
        &#123;
          "expr": "avg(irate(node_cpu_seconds_total&#123;instance=~\"$node\",mode=\"iowait\"&#125;[1m]))",
          "format": "time_series",
          "intervalFactor": 2,
          "legendFormat": "Iowait",
          "refId": "D",
          "step": 240
        &#125;,
        &#123;
          "expr": "irate(node_disk_io_time_seconds_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;device&#125;&#125;_每秒I/O操作%",
          "refId": "C"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "CPU使用率、磁盘每秒的I/O操作耗费时间（%）",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "decimals": null,
          "format": "percentunit",
          "label": "",
          "logBase": 1,
          "max": "1",
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "内存_Avaliable": "#6ED0E0",
        "内存_Cached": "#EF843C",
        "内存_Free": "#629E51",
        "内存_Total": "#6d1f62",
        "内存_Used": "#eab839"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "decimals": 2,
      "fill": 1,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 12
      &#125;,
      "height": "300",
      "id": 156,
      "legend": &#123;
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "node_memory_MemTotal_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "总内存",
          "refId": "A",
          "step": 4
        &#125;,
        &#123;
          "expr": "node_memory_MemTotal_bytes&#123;instance=~\"$node\"&#125; - (node_memory_Cached_bytes&#123;instance=~\"$node\"&#125; + node_memory_Buffers_bytes&#123;instance=~\"$node\"&#125; + node_memory_MemFree_bytes&#123;instance=~\"$node\"&#125;)",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "已用",
          "refId": "B",
          "step": 4
        &#125;,
        &#123;
          "expr": "node_memory_MemFree_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": true,
          "intervalFactor": 2,
          "legendFormat": "内存_Free",
          "refId": "C",
          "step": 4
        &#125;,
        &#123;
          "expr": "node_memory_Buffers_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": true,
          "intervalFactor": 2,
          "legendFormat": "内存_Buffers",
          "refId": "D",
          "step": 4
        &#125;,
        &#123;
          "expr": "node_memory_Cached_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": true,
          "intervalFactor": 2,
          "legendFormat": "内存_Cached",
          "refId": "E",
          "step": 4
        &#125;,
        &#123;
          "expr": "node_memory_MemAvailable_bytes&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "可用",
          "refId": "F",
          "step": 4
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "内存信息",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "decbytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "vda_write": "#6ED0E0"
      &#125;,
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "description": "Reads completed: 每个磁盘分区每秒读完成次数\n\nWrites completed: 每个磁盘分区每秒写完成次数\n\nIO now 每个磁盘分区每秒正在处理的输入/输出请求数",
      "fill": 2,
      "gridPos": &#123;
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 19
      &#125;,
      "height": "300",
      "id": 161,
      "legend": &#123;
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "/.*_读取$/",
          "transform": "negative-Y"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "irate(node_disk_reads_completed_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_读取",
          "refId": "A",
          "step": 10
        &#125;,
        &#123;
          "expr": "irate(node_disk_writes_completed_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_写入",
          "refId": "B",
          "step": 10
        &#125;,
        &#123;
          "expr": "node_disk_io_now&#123;instance=~\"$node\"&#125;",
          "format": "time_series",
          "hide": true,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;device&#125;&#125;",
          "refId": "C"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "磁盘读写速率（IOPS）",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "decimals": null,
          "format": "iops",
          "label": "读取（-）/写入（+）I/O ops/sec",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "vda_write": "#6ED0E0"
      &#125;,
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "description": "Read bytes 每个磁盘分区每秒读取的比特数\nWritten bytes 每个磁盘分区每秒写入的比特数",
      "fill": 2,
      "gridPos": &#123;
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 19
      &#125;,
      "height": "300",
      "id": 168,
      "legend": &#123;
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "/.*_读取$/",
          "transform": "negative-Y"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "irate(node_disk_read_bytes_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_读取",
          "refId": "A",
          "step": 10
        &#125;,
        &#123;
          "expr": "irate(node_disk_written_bytes_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_写入",
          "refId": "B",
          "step": 10
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "磁盘读写容量大小",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "decimals": null,
          "format": "Bps",
          "label": "读取（-）/写入（+）",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "vda": "#6ED0E0"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "description": "Read time ms 每个磁盘分区读操作花费的秒数\n\nWrite time ms 每个磁盘分区写操作花费的秒数\n\nIO time ms 每个磁盘分区输入/输出操作花费的秒数\n\nIO time weighted 每个磁盘分区输入/输出操作花费的加权秒数",
      "fill": 3,
      "gridPos": &#123;
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 19
      &#125;,
      "height": "300",
      "id": 160,
      "legend": &#123;
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "/,*_读取$/",
          "transform": "negative-Y"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "irate(node_disk_io_time_seconds_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": true,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;",
          "refId": "A",
          "step": 10
        &#125;,
        &#123;
          "expr": "irate(node_disk_io_time_weighted_seconds_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": true,
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;device&#125;&#125;_加权",
          "refId": "D"
        &#125;,
        &#123;
          "expr": "irate(node_disk_read_time_seconds_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;device&#125;&#125;_读取",
          "refId": "B"
        &#125;,
        &#123;
          "expr": "irate(node_disk_write_time_seconds_total&#123;instance=~\"$node\"&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;device&#125;&#125;_写入",
          "refId": "C"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "磁盘IO读写时间",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "s",
          "label": "读取（-）/写入（+）",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "fill": 1,
      "gridPos": &#123;
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 27
      &#125;,
      "height": "300",
      "id": 157,
      "legend": &#123;
        "alignAsTable": false,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "/.*_out上传$/",
          "transform": "negative-Y"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "irate(node_network_receive_bytes_total&#123;instance=~'$node',device!~'tap.*'&#125;[5m])*8",
          "format": "time_series",
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_in下载",
          "refId": "A",
          "step": 4
        &#125;,
        &#123;
          "expr": "irate(node_network_transmit_bytes_total&#123;instance=~'$node',device!~'tap.*'&#125;[5m])*8",
          "format": "time_series",
          "intervalFactor": 2,
          "legendFormat": "&#123;&#123;device&#125;&#125;_out上传",
          "refId": "B",
          "step": 4
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "网络流量",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "bps",
          "label": "上传（-）/下载（+）",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": false
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "TCP": "#6ED0E0"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "description": "CurrEstab - 当前状态为 ESTABLISHED 或 CLOSE-WAIT 的 TCP 连接数\n\nActiveOpens - 已从 CLOSED 状态直接转换到 SYN-SENT 状态的 TCP 平均连接数(1分钟内)\n\nPassiveOpens - 已从 LISTEN 状态直接转换到 SYN-RCVD 状态的 TCP 平均连接数(1分钟内)\n\nTCP_alloc - 已分配（已建立、已申请到sk_buff）的TCP套接字数量\n\nTCP_inuse - 正在使用（正在侦听）的TCP套接字数量\n\nTCP_tw - 等待关闭的TCP连接数",
      "fill": 0,
      "gridPos": &#123;
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 27
      &#125;,
      "height": "300",
      "id": 158,
      "legend": &#123;
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "node_netstat_Tcp_CurrEstab&#123;instance=~'$node'&#125;",
          "format": "time_series",
          "hide": false,
          "interval": "10s",
          "intervalFactor": 1,
          "legendFormat": "ESTABLISHED",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "expr": "node_sockstat_TCP_tw&#123;instance=~'$node'&#125;",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "TCP_tw",
          "refId": "D"
        &#125;,
        &#123;
          "expr": "irate(node_netstat_Tcp_ActiveOpens&#123;instance=~'$node'&#125;[1m])",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 1,
          "legendFormat": "ActiveOpens",
          "refId": "B"
        &#125;,
        &#123;
          "expr": "irate(node_netstat_Tcp_PassiveOpens&#123;instance=~'$node'&#125;[1m])",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "PassiveOpens",
          "refId": "C"
        &#125;,
        &#123;
          "expr": "node_sockstat_TCP_alloc&#123;instance=~'$node'&#125;",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "TCP_alloc",
          "refId": "E"
        &#125;,
        &#123;
          "expr": "node_sockstat_TCP_inuse&#123;instance=~'$node'&#125;",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "TCP_inuse",
          "refId": "F"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "TCP 连接情况",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
      "fill": 0,
      "gridPos": &#123;
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 35
      &#125;,
      "id": 169,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null as zero",
      "percentage": false,
      "pointradius": 0.5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "node_hwmon_temp_celsius&#123;instance=\"$node\"&#125;",
          "format": "time_series",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123;chip&#125;&#125; &#123;&#123;sensor&#125;&#125;",
          "refId": "A"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "硬件温度",
      "tooltip": &#123;
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "celsius",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;
  ],
  "refresh": false,
  "schemaVersion": 16,
  "style": "dark",
  "tags": [
    "StarsL",
    "Prometheus"
  ],
  "templating": &#123;
    "list": [
      &#123;
        "auto": true,
        "auto_count": 30,
        "auto_min": "10s",
        "current": &#123;
          "text": "1m",
          "value": "1m"
        &#125;,
        "hide": 0,
        "label": "interval",
        "name": "interval",
        "options": [
          &#123;
            "selected": false,
            "text": "auto",
            "value": "$__auto_interval_interval"
          &#125;,
          &#123;
            "selected": true,
            "text": "1m",
            "value": "1m"
          &#125;,
          &#123;
            "selected": false,
            "text": "10m",
            "value": "10m"
          &#125;,
          &#123;
            "selected": false,
            "text": "30m",
            "value": "30m"
          &#125;,
          &#123;
            "selected": false,
            "text": "1h",
            "value": "1h"
          &#125;,
          &#123;
            "selected": false,
            "text": "6h",
            "value": "6h"
          &#125;,
          &#123;
            "selected": false,
            "text": "12h",
            "value": "12h"
          &#125;,
          &#123;
            "selected": false,
            "text": "1d",
            "value": "1d"
          &#125;,
          &#123;
            "selected": false,
            "text": "7d",
            "value": "7d"
          &#125;,
          &#123;
            "selected": false,
            "text": "14d",
            "value": "14d"
          &#125;,
          &#123;
            "selected": false,
            "text": "30d",
            "value": "30d"
          &#125;
        ],
        "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      &#125;,
      &#123;
        "allFormat": "glob",
        "allValue": null,
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
        "hide": 0,
        "includeAll": false,
        "label": "环境",
        "multi": false,
        "multiFormat": "regex values",
        "name": "env",
        "options": [],
        "query": "label_values(node_exporter_build_info,env)",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      &#125;,
      &#123;
        "allFormat": "glob",
        "allValue": null,
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
        "hide": 0,
        "includeAll": false,
        "label": "主机名",
        "multi": false,
        "multiFormat": "regex values",
        "name": "name",
        "options": [],
        "query": "label_values(node_exporter_build_info&#123;env='$env'&#125;,name)",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      &#125;,
      &#123;
        "allFormat": "glob",
        "allValue": null,
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
        "hide": 0,
        "includeAll": false,
        "label": "节点",
        "multi": false,
        "multiFormat": "regex values",
        "name": "node",
        "options": [],
        "query": "label_values(node_exporter_build_info&#123;name='$name'&#125;,instance)",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      &#125;,
      &#123;
        "allValue": null,
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROMETHEUS_111&#125;",
        "hide": 2,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "maxmount",
        "options": [],
        "query": "query_result(topk(1,sort_desc (max(node_filesystem_size_bytes&#123;instance=~'$node',fstype=~\"ext4|xfs\"&#125;) by (mountpoint))))",
        "refresh": 1,
        "regex": "/.*\\\"(.*)\\\".*/",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      &#125;
    ]
  &#125;,
  "time": &#123;
    "from": "now-24h",
    "to": "now"
  &#125;,
  "timepicker": &#123;
    "now": true,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  &#125;,
  "timezone": "browser",
  "title": "1 Node Exporter 0.16+ 监控展示看板 for Prometheus",
  "uid": "9CWBz0bik",
  "version": 28
&#125;	
</code></pre> </details>  

<p><code>如果没有任何显示，是grafana缺少相关显示需要用到的插件piechart，grafana的默认插件目录是/var/lib/grafana/plugins，可以将下载好的插件解压到这个目录，重启grafana即可 </code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service grafana-server restart</span><br><span class="line"><span class="comment"># 查看已安装插件</span></span><br><span class="line">/usr/sbin/grafana-cli plugins <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p> 再刷新grafana页面，即可看到我们刚才设置好的node监控 </p>
<h3 id="2-监控MySQL（mysqld-exporter）"><a href="#2-监控MySQL（mysqld-exporter）" class="headerlink" title="2.监控MySQL（mysqld-exporter）"></a>2.监控MySQL（mysqld-exporter）</h3><p> 被监控mysql机器安装mysqld-exporter </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local/ -xvf mysqld_exporter-0.11.0.linux-amd64.tar</span><br></pre></td></tr></table></figure>

<p> 设置配置文件，user为数据库登录用户，password为这个用户的密码 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi .my.cnf</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">user=root</span><br><span class="line">password=123456</span><br></pre></td></tr></table></figure>

<p> 启动mysqld-exporter 也可注册服务与node-exporter同理</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/mysqld_exporter-0.11.0.linux-amd64/mysqld_exporter --config.my-cnf=<span class="string">&quot;/usr/local/mysqld_exporter-0.11.0.linux-amd64/.my.cnf&quot;</span> &amp;</span><br></pre></td></tr></table></figure>

<p> prometheus配置文件中加入mysql监控并重启 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/Prometheus/prometheus.yml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认mysqld-exporter端口为9104</span></span><br><span class="line">- job_name: <span class="string">&#x27;MySQL&#x27;</span></span><br><span class="line">    static_configs:</span><br><span class="line">    - targets: [<span class="string">&#x27;192.168.0.103:9104&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p> 设置数据源 </p>
<p> grafana界面添加mysql数据源 </p>
<p> 添加需要被监控的数据库及相关信息 </p>
<p> 导入已经画好的dashboard，数据源选择刚刚创建好的mysql数据源即可 </p>
<details>   <summary>dashboard-mysql.json</summary>   <pre><code>
&#123;
  "__inputs": [
    &#123;
      "name": "DS_PROMETHEUS",
      "label": "Prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    &#125;
  ],
  "__requires": [
    &#123;
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "5.0.4"
    &#125;,
    &#123;
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "5.0.0"
    &#125;,
    &#123;
      "type": "panel",
      "id": "singlestat",
      "name": "Singlestat",
      "version": "5.0.0"
    &#125;
  ],
  "annotations": &#123;
    "list": [
      &#123;
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": false,
        "iconColor": "#e0752d",
        "limit": 100,
        "name": "PMM Annotations",
        "showIn": 0,
        "tags": [
          "pmm_annotation"
        ],
        "type": "tags"
      &#125;
    ]
  &#125;,
  "editable": true,
  "gnetId": null,
  "graphTooltip": 1,
  "id": null,
  "iteration": 1536577388808,
  "links": [
    &#123;
      "icon": "dashboard",
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "QAN"
      ],
      "targetBlank": false,
      "title": "Query Analytics",
      "type": "link",
      "url": "/graph/dashboard/db/_pmm-query-analytics"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "OS"
      ],
      "targetBlank": false,
      "title": "OS",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "MySQL"
      ],
      "targetBlank": false,
      "title": "MySQL",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "MongoDB"
      ],
      "targetBlank": false,
      "title": "MongoDB",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "HA"
      ],
      "targetBlank": false,
      "title": "HA",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "Cloud"
      ],
      "targetBlank": false,
      "title": "Cloud",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "Insight"
      ],
      "targetBlank": false,
      "title": "Insight",
      "type": "dashboards"
    &#125;,
    &#123;
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "PMM"
      ],
      "targetBlank": false,
      "title": "PMM",
      "type": "dashboards"
    &#125;
  ],
  "panels": [
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      &#125;,
      "id": 382,
      "panels": [],
      "repeat": null,
      "title": "",
      "type": "row"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 1,
      "description": "**MySQL Uptime**\n\nThe amount of time since the last restart of the MySQL server process.",
      "editable": true,
      "error": false,
      "format": "s",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 1
      &#125;,
      "height": "125px",
      "id": 12,
      "interval": "$interval",
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "s",
      "postfixFontSize": "80%",
      "prefix": "",
      "prefixFontSize": "80%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "calculatedInterval": "10m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_uptime&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "5m",
          "intervalFactor": 1,
          "legendFormat": "",
          "metric": "",
          "refId": "A",
          "step": 300
        &#125;
      ],
      "thresholds": "300,3600",
      "title": "MySQL Uptime",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**Current QPS**\n\nBased on the queries reported by MySQL's ``SHOW STATUS`` command, it is the number of statements executed by the server within the last second. This variable includes statements executed within stored programs, unlike the Questions variable. It does not count \n``COM_PING`` or ``COM_STATISTICS`` commands.",
      "editable": true,
      "error": false,
      "format": "short",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 4,
        "w": 6,
        "x": 6,
        "y": 1
      &#125;,
      "height": "125px",
      "id": 13,
      "interval": "$interval",
      "links": [
        &#123;
          "targetBlank": true,
          "title": "MySQL Server Status Variables",
          "type": "absolute",
          "url": "https://dev.mysql.com/doc/refman/5.7/en/server-status-variables.html#statvar_Queries"
        &#125;
      ],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "80%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "calculatedInterval": "10m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_queries&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_queries&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": "35,75",
      "title": "Current QPS",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "rgba(50, 172, 45, 0.97)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(245, 54, 54, 0.9)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 0,
      "description": "**InnoDB Buffer Pool Size**\n\nInnoDB maintains a storage area called the buffer pool for caching data and indexes in memory.  Knowing how the InnoDB buffer pool works, and taking advantage of it to keep frequently accessed data in memory, is one of the most important aspects of MySQL tuning. The goal is to keep the working set in memory. In most cases, this should be between 60%-90% of available memory on a dedicated database host, but depends on many factors.",
      "editable": true,
      "error": false,
      "format": "bytes",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 4,
        "w": 6,
        "x": 12,
        "y": 1
      &#125;,
      "height": "125px",
      "id": 51,
      "interval": "$interval",
      "links": [
        &#123;
          "targetBlank": true,
          "title": "Tuning the InnoDB Buffer Pool Size",
          "type": "absolute",
          "url": "https://www.percona.com/blog/2015/06/02/80-ram-tune-innodb_buffer_pool_size/"
        &#125;
      ],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "80%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "calculatedInterval": "10m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_innodb_buffer_pool_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "5m",
          "intervalFactor": 1,
          "legendFormat": "",
          "metric": "",
          "refId": "A",
          "step": 300
        &#125;
      ],
      "thresholds": "90,95",
      "title": "InnoDB Buffer Pool Size",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": true,
      "colors": [
        "rgba(245, 54, 54, 0.9)",
        "rgba(237, 129, 40, 0.89)",
        "rgba(50, 172, 45, 0.97)"
      ],
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 0,
      "description": "**InnoDB Buffer Pool Size % of Total RAM**\n\nInnoDB maintains a storage area called the buffer pool for caching data and indexes in memory.  Knowing how the InnoDB buffer pool works, and taking advantage of it to keep frequently accessed data in memory, is one of the most important aspects of MySQL tuning. The goal is to keep the working set in memory. In most cases, this should be between 60%-90% of available memory on a dedicated database host, but depends on many factors.",
      "editable": true,
      "error": false,
      "format": "percent",
      "gauge": &#123;
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      &#125;,
      "gridPos": &#123;
        "h": 4,
        "w": 6,
        "x": 18,
        "y": 1
      &#125;,
      "height": "125px",
      "id": 52,
      "interval": "$interval",
      "links": [
        &#123;
          "targetBlank": true,
          "title": "Tuning the InnoDB Buffer Pool Size",
          "type": "absolute",
          "url": "https://www.percona.com/blog/2015/06/02/80-ram-tune-innodb_buffer_pool_size/"
        &#125;
      ],
      "mappingType": 1,
      "mappingTypes": [
        &#123;
          "name": "value to text",
          "value": 1
        &#125;,
        &#123;
          "name": "range to text",
          "value": 2
        &#125;
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "80%",
      "rangeMaps": [
        &#123;
          "from": "null",
          "text": "N/A",
          "to": "null"
        &#125;
      ],
      "repeat": null,
      "sparkline": &#123;
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      &#125;,
      "tableColumn": "",
      "targets": [
        &#123;
          "calculatedInterval": "10m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "(mysql_global_variables_innodb_buffer_pool_size&#123;instance=\"$host\"&#125; * 100) / on (instance) node_memory_MemTotal&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "5m",
          "intervalFactor": 1,
          "legendFormat": "",
          "metric": "",
          "refId": "A",
          "step": 300
        &#125;
      ],
      "thresholds": "40,80",
      "title": "Buffer Pool Size of Total RAM",
      "transparent": false,
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      &#125;,
      "id": 383,
      "panels": [],
      "repeat": null,
      "title": "Connections",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 0,
      "description": "**Max Connections** \n\nMax Connections is the maximum permitted number of simultaneous client connections. By default, this is 151. Increasing this value increases the number of file descriptors that mysqld requires. If the required number of descriptors are not available, the server reduces the value of Max Connections.\n\nmysqld actually permits Max Connections + 1 clients to connect. The extra connection is reserved for use by accounts that have the SUPER privilege, such as root.\n\nMax Used Connections is the maximum number of connections that have been in use simultaneously since the server started.\n\nConnections is the number of connection attempts (successful or not) to the MySQL server.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 6
      &#125;,
      "height": "250px",
      "id": 92,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "targetBlank": true,
          "title": "MySQL Server System Variables",
          "type": "absolute",
          "url": "https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_max_connections"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Max Connections",
          "fill": 0
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "max(max_over_time(mysql_global_status_threads_connected&#123;instance=\"$host\"&#125;[$interval])  or mysql_global_status_threads_connected&#123;instance=\"$host\"&#125; )",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Connections",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_max_used_connections&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Max Used Connections",
          "metric": "",
          "refId": "C",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_max_connections&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Max Connections",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Connections",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Active Threads**\n\nThreads Connected is the number of open connections, while Threads Running is the number of threads not sleeping.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 6
      &#125;,
      "id": 10,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": true,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Peak Threads Running",
          "color": "#E24D42",
          "lines": false,
          "pointradius": 1,
          "points": true
        &#125;,
        &#123;
          "alias": "Peak Threads Connected",
          "color": "#1F78C1"
        &#125;,
        &#123;
          "alias": "Avg Threads Running",
          "color": "#EAB839"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "max_over_time(mysql_global_status_threads_connected&#123;instance=\"$host\"&#125;[$interval]) or\nmax_over_time(mysql_global_status_threads_connected&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "hide": false,
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Peak Threads Connected",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "max_over_time(mysql_global_status_threads_running&#123;instance=\"$host\"&#125;[$interval]) or\nmax_over_time(mysql_global_status_threads_running&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Peak Threads Running",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "expr": "avg_over_time(mysql_global_status_threads_running&#123;instance=\"$host\"&#125;[$interval]) or \navg_over_time(mysql_global_status_threads_running&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Avg Threads Running",
          "refId": "C",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Client Thread Activity",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": [
          "total"
        ]
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "label": "Threads",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": false
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      &#125;,
      "id": 384,
      "panels": [],
      "repeat": null,
      "title": "Table Locks",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "description": "**MySQL Questions**\n\nThe number of statements executed by the server. This includes only statements sent to the server by clients and not statements executed within stored programs, unlike the Queries used in the QPS calculation. \n\nThis variable does not count the following commands:\n* ``COM_PING``\n* ``COM_STATISTICS``\n* ``COM_STMT_PREPARE``\n* ``COM_STMT_CLOSE``\n* ``COM_STMT_RESET``",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 14
      &#125;,
      "id": 53,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "targetBlank": true,
          "title": "MySQL Queries and Questions",
          "type": "absolute",
          "url": "https://www.percona.com/blog/2014/05/29/how-mysql-queries-and-questions-are-measured/"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_questions&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_questions&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Questions",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Questions",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Thread Cache**\n\nThe thread_cache_size variable sets how many threads the server should cache to reuse. When a client disconnects, the client's threads are put in the cache if the cache is not full. It is autosized in MySQL 5.6.8 and above (capped to 100). Requests for threads are satisfied by reusing threads taken from the cache if possible, and only when the cache is empty is a new thread created.\n\n* *Threads_created*: The number of threads created to handle connections.\n* *Threads_cached*: The number of threads in the thread cache.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 14
      &#125;,
      "id": 11,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Tuning information",
          "type": "absolute",
          "url": "https://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html#sysvar_thread_cache_size"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Threads Created",
          "fill": 0
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_thread_cache_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Thread Cache Size",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_threads_cached&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Threads Cached",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_threads_created&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_threads_created&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Threads Created",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Thread Cache",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      &#125;,
      "id": 385,
      "panels": [],
      "repeat": null,
      "title": "Temporary Objects",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 22
      &#125;,
      "id": 22,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_created_tmp_tables&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_created_tmp_tables&#123;instance=\"$host\"&#125;[5m])",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Created Tmp Tables",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_created_tmp_disk_tables&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_created_tmp_disk_tables&#123;instance=\"$host\"&#125;[5m])",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Created Tmp Disk Tables",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_created_tmp_files&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_created_tmp_files&#123;instance=\"$host\"&#125;[5m])",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Created Tmp Files",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Temporary Objects",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Select Types**\n\nAs with most relational databases, selecting based on indexes is more efficient than scanning an entire table's data. Here we see the counters for selects not done with indexes.\n\n* ***Select Scan*** is how many queries caused full table scans, in which all the data in the table had to be read and either discarded or returned.\n* ***Select Range*** is how many queries used a range scan, which means MySQL scanned all rows in a given range.\n* ***Select Full Join*** is the number of joins that are not joined on an index, this is usually a huge performance hit.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 22
      &#125;,
      "height": "250px",
      "id": 311,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_select_full_join&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_select_full_join&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Select Full Join",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_select_full_range_join&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_select_full_range_join&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Select Full Range Join",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_select_range&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_select_range&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Select Range",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_select_range_check&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_select_range_check&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Select Range Check",
          "metric": "",
          "refId": "D",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_select_scan&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_select_scan&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Select Scan",
          "metric": "",
          "refId": "E",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Select Types",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 29
      &#125;,
      "id": 386,
      "panels": [],
      "repeat": null,
      "title": "Sorts",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Sorts**\n\nDue to a query's structure, order, or other requirements, MySQL sorts the rows before returning them. For example, if a table is ordered 1 to 10 but you want the results reversed, MySQL then has to sort the rows to return 10 to 1.\n\nThis graph also shows when sorts had to scan a whole table or a given range of a table in order to return the results and which could not have been sorted via an index.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 30
      &#125;,
      "id": 30,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_sort_rows&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_sort_rows&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Sort Rows",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_sort_range&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_sort_range&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Sort Range",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_sort_merge_passes&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_sort_merge_passes&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Sort Merge Passes",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_sort_scan&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_sort_scan&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Sort Scan",
          "metric": "",
          "refId": "D",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Sorts",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Slow Queries**\n\nSlow queries are defined as queries being slower than the long_query_time setting. For example, if you have long_query_time set to 3, all queries that take longer than 3 seconds to complete will show on this graph.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 30
      &#125;,
      "id": 48,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_slow_queries&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_slow_queries&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Slow Queries",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Slow Queries",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 37
      &#125;,
      "id": 387,
      "panels": [],
      "repeat": null,
      "title": "Aborted",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**Aborted Connections**\n\nWhen a given host connects to MySQL and the connection is interrupted in the middle (for example due to bad credentials), MySQL keeps that info in a system table (since 5.6 this table is exposed in performance_schema).\n\nIf the amount of failed requests without a successful connection reaches the value of max_connect_errors, mysqld assumes that something is wrong and blocks the host from further connection.\n\nTo allow connections from that host again, you need to issue the ``FLUSH HOSTS`` statement.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 38
      &#125;,
      "id": 47,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_aborted_connects&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_aborted_connects&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Aborted Connects (attempts)",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_aborted_clients&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_aborted_clients&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Aborted Clients (timeout)",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Aborted Connections",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**Table Locks**\n\nMySQL takes a number of different locks for varying reasons. In this graph we see how many Table level locks MySQL has requested from the storage engine. In the case of InnoDB, many times the locks could actually be row locks as it only takes table level locks in a few specific cases.\n\nIt is most useful to compare Locks Immediate and Locks Waited. If Locks waited is rising, it means you have lock contention. Otherwise, Locks Immediate rising and falling is normal activity.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 38
      &#125;,
      "id": 32,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_table_locks_immediate&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_locks_immediate&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Table Locks Immediate",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_table_locks_waited&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_locks_waited&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Table Locks Waited",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Table Locks",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 45
      &#125;,
      "id": 388,
      "panels": [],
      "repeat": null,
      "title": "Network",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Network Traffic**\n\nHere we can see how much network traffic is generated by MySQL. Outbound is network traffic sent from MySQL and Inbound is network traffic MySQL has received.",
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 46
      &#125;,
      "id": 9,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_bytes_received&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_bytes_received&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Inbound",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_bytes_sent&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_bytes_sent&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Outbound",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Network Traffic",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "Bps",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "none",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Network Usage Hourly**\n\nHere we can see how much network traffic is generated by MySQL per hour. You can use the bar graph to compare data sent by MySQL and data received by MySQL.",
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 46
      &#125;,
      "height": "250px",
      "id": 381,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "increase(mysql_global_status_bytes_received&#123;instance=\"$host\"&#125;[1h])",
          "format": "time_series",
          "interval": "1h",
          "intervalFactor": 1,
          "legendFormat": "Received",
          "metric": "",
          "refId": "A",
          "step": 3600
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "increase(mysql_global_status_bytes_sent&#123;instance=\"$host\"&#125;[1h])",
          "format": "time_series",
          "interval": "1h",
          "intervalFactor": 1,
          "legendFormat": "Sent",
          "metric": "",
          "refId": "B",
          "step": 3600
        &#125;
      ],
      "thresholds": [],
      "timeFrom": "24h",
      "timeShift": null,
      "title": "MySQL Network Usage Hourly",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "none",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 53
      &#125;,
      "id": 389,
      "panels": [],
      "repeat": null,
      "title": "Memory",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 0,
      "description": "***System Memory***: Total Memory for the system.\\\n***InnoDB Buffer Pool Data***: InnoDB maintains a storage area called the buffer pool for caching data and indexes in memory.\\\n***TokuDB Cache Size***: Similar in function to the InnoDB Buffer Pool,  TokuDB will allocate 50% of the installed RAM for its own cache.\\\n***Key Buffer Size***: Index blocks for MYISAM tables are buffered and are shared by all threads. key_buffer_size is the size of the buffer used for index blocks.\\\n***Adaptive Hash Index Size***: When InnoDB notices that some index values are being accessed very frequently, it builds a hash index for them in memory on top of B-Tree indexes.\\\n ***Query Cache Size***: The query cache stores the text of a SELECT statement together with the corresponding result that was sent to the client. The query cache has huge scalability problems in that only one thread can do an operation in the query cache at the same time.\\\n***InnoDB Dictionary Size***: The data dictionary is InnoDB ‘s internal catalog of tables. InnoDB stores the data dictionary on disk, and loads entries into memory while the server is running.\\\n***InnoDB Log Buffer Size***: The MySQL InnoDB log buffer allows transactions to run without having to write the log to disk before the transactions commit.",
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 54
      &#125;,
      "id": 50,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Detailed descriptions about metrics",
          "type": "absolute",
          "url": "https://www.percona.com/doc/percona-monitoring-and-management/dashboard.mysql-overview.html#mysql-internal-memory-overview"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "System Memory",
          "fill": 0,
          "stack": false
        &#125;
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "expr": "node_memory_MemTotal&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "intervalFactor": 2,
          "legendFormat": "System Memory",
          "refId": "G",
          "step": 4
        &#125;,
        &#123;
          "expr": "mysql_global_status_innodb_page_size&#123;instance=\"$host\"&#125; * on (instance) mysql_global_status_buffer_pool_pages&#123;instance=\"$host\",state=\"data\"&#125;",
          "format": "time_series",
          "hide": false,
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "InnoDB Buffer Pool Data",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_variables_innodb_log_buffer_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "InnoDB Log Buffer Size",
          "refId": "D",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_variables_innodb_additional_mem_pool_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 2,
          "legendFormat": "InnoDB Additional Memory Pool Size",
          "refId": "H",
          "step": 40
        &#125;,
        &#123;
          "expr": "mysql_global_status_innodb_mem_dictionary&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "InnoDB Dictionary Size",
          "refId": "F",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_variables_key_buffer_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Key Buffer Size",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_variables_query_cache_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Query Cache Size",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_status_innodb_mem_adaptive_hash&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Adaptive Hash Index Size",
          "refId": "E",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_variables_tokudb_cache_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "TokuDB Cache Size",
          "refId": "I",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Internal Memory Overview",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "bytes",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 61
      &#125;,
      "id": 390,
      "panels": [],
      "repeat": null,
      "title": "Command, Handlers, Processes",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**Top Command Counters**\n\nThe Com_&#123;&#123;xxx&#125;&#125; statement counter variables indicate the number of times each xxx statement has been executed. There is one status variable for each type of statement. For example, Com_delete and Com_update count [``DELETE``](https://dev.mysql.com/doc/refman/5.7/en/delete.html) and [``UPDATE``](https://dev.mysql.com/doc/refman/5.7/en/update.html) statements, respectively. Com_delete_multi and Com_update_multi are similar but apply to [``DELETE``](https://dev.mysql.com/doc/refman/5.7/en/delete.html) and [``UPDATE``](https://dev.mysql.com/doc/refman/5.7/en/update.html) statements that use multiple-table syntax.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 62
      &#125;,
      "id": 14,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideEmpty": false,
        "hideZero": false,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Server Status Variables (Com_xxx)",
          "type": "absolute",
          "url": "https://dev.mysql.com/doc/refman/5.7/en/server-status-variables.html#statvar_Com_xxx"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "topk(5, rate(mysql_global_status_commands_total&#123;instance=\"$host\"&#125;[$interval])>0) or topk(5, irate(mysql_global_status_commands_total&#123;instance=\"$host\"&#125;[5m])>0)",
          "format": "time_series",
          "hide": false,
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Com_&#123;&#123; command &#125;&#125;",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top Command Counters",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**Top Command Counters Hourly**\n\nThe Com_&#123;&#123;xxx&#125;&#125; statement counter variables indicate the number of times each xxx statement has been executed. There is one status variable for each type of statement. For example, Com_delete and Com_update count [``DELETE``](https://dev.mysql.com/doc/refman/5.7/en/delete.html) and [``UPDATE``](https://dev.mysql.com/doc/refman/5.7/en/update.html) statements, respectively. Com_delete_multi and Com_update_multi are similar but apply to [``DELETE``](https://dev.mysql.com/doc/refman/5.7/en/delete.html) and [``UPDATE``](https://dev.mysql.com/doc/refman/5.7/en/update.html) statements that use multiple-table syntax.",
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 69
      &#125;,
      "id": 39,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 2,
      "links": [
        &#123;
          "dashboard": "https://dev.mysql.com/doc/refman/5.7/en/server-status-variables.html#statvar_Com_xxx",
          "title": "Server Status Variables (Com_xxx)",
          "type": "absolute",
          "url": "https://dev.mysql.com/doc/refman/5.7/en/server-status-variables.html#statvar_Com_xxx"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "topk(5, increase(mysql_global_status_commands_total&#123;instance=\"$host\"&#125;[1h])>0)",
          "format": "time_series",
          "interval": "1h",
          "intervalFactor": 1,
          "legendFormat": "Com_&#123;&#123; command &#125;&#125;",
          "metric": "",
          "refId": "A",
          "step": 3600
        &#125;
      ],
      "thresholds": [],
      "timeFrom": "24h",
      "timeShift": null,
      "title": "Top Command Counters Hourly",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Handlers**\n\nHandler statistics are internal statistics on how MySQL is selecting, updating, inserting, and modifying rows, tables, and indexes.\n\nThis is in fact the layer between the Storage Engine and MySQL.\n\n* `read_rnd_next` is incremented when the server performs a full table scan and this is a counter you don't really want to see with a high value.\n* `read_key` is incremented when a read is done with an index.\n* `read_next` is incremented when the storage engine is asked to 'read the next index entry'. A high value means a lot of index scans are being done.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 76
      &#125;,
      "id": 8,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_handlers_total&#123;instance=\"$host\", handler!~\"commit|rollback|savepoint.*|prepare\"&#125;[$interval]) or irate(mysql_global_status_handlers_total&#123;instance=\"$host\", handler!~\"commit|rollback|savepoint.*|prepare\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123; handler &#125;&#125;",
          "metric": "",
          "refId": "J",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Handlers",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 83
      &#125;,
      "id": 28,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_handlers_total&#123;instance=\"$host\", handler=~\"commit|rollback|savepoint.*|prepare\"&#125;[$interval]) or irate(mysql_global_status_handlers_total&#123;instance=\"$host\", handler=~\"commit|rollback|savepoint.*|prepare\"&#125;[5m])",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123; handler &#125;&#125;",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Transaction Handlers",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 0,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 90
      &#125;,
      "id": 40,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_info_schema_threads&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123; state &#125;&#125;",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Process States",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 97
      &#125;,
      "id": 49,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "topk(5, avg_over_time(mysql_info_schema_threads&#123;instance=\"$host\"&#125;[1h]))",
          "interval": "1h",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123; state &#125;&#125;",
          "metric": "",
          "refId": "A",
          "step": 3600
        &#125;
      ],
      "thresholds": [],
      "timeFrom": "24h",
      "timeShift": null,
      "title": "Top Process States Hourly",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 104
      &#125;,
      "id": 391,
      "panels": [],
      "repeat": null,
      "title": "Query Cache",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Query Cache Memory**\n\nThe query cache has huge scalability problems in that only one thread can do an operation in the query cache at the same time. This serialization is true not only for SELECTs, but also for INSERT/UPDATE/DELETE.\n\nThis also means that the larger the `query_cache_size` is set to, the slower those operations become. In concurrent environments, the MySQL Query Cache quickly becomes a contention point, decreasing performance. MariaDB and AWS Aurora have done work to try and eliminate the query cache contention in their flavors of MySQL, while MySQL 8.0 has eliminated the query cache feature.\n\nThe recommended settings for most environments is to set:\n  ``query_cache_type=0``\n  ``query_cache_size=0``\n\nNote that while you can dynamically change these values, to completely remove the contention point you have to restart the database.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 105
      &#125;,
      "id": 46,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_qcache_free_memory&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Free Memory",
          "metric": "",
          "refId": "F",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_query_cache_size&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Query Cache Size",
          "metric": "",
          "refId": "E",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Query Cache Memory",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Query Cache Activity**\n\nThe query cache has huge scalability problems in that only one thread can do an operation in the query cache at the same time. This serialization is true not only for SELECTs, but also for INSERT/UPDATE/DELETE.\n\nThis also means that the larger the `query_cache_size` is set to, the slower those operations become. In concurrent environments, the MySQL Query Cache quickly becomes a contention point, decreasing performance. MariaDB and AWS Aurora have done work to try and eliminate the query cache contention in their flavors of MySQL, while MySQL 8.0 has eliminated the query cache feature.\n\nThe recommended settings for most environments is to set:\n``query_cache_type=0``\n``query_cache_size=0``\n\nNote that while you can dynamically change these values, to completely remove the contention point you have to restart the database.",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 105
      &#125;,
      "height": "",
      "id": 45,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_qcache_hits&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_qcache_hits&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Hits",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_qcache_inserts&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_qcache_inserts&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Inserts",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_qcache_not_cached&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_qcache_not_cached&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Not Cached",
          "metric": "",
          "refId": "D",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_qcache_lowmem_prunes&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_qcache_lowmem_prunes&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Prunes",
          "metric": "",
          "refId": "F",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_qcache_queries_in_cache&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Queries in Cache",
          "metric": "",
          "refId": "E",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Query Cache Activity",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 112
      &#125;,
      "id": 392,
      "panels": [],
      "repeat": null,
      "title": "Files and Tables",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 113
      &#125;,
      "id": 43,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_opened_files&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_opened_files&#123;instance=\"$host\"&#125;[5m])",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Openings",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL File Openings",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 113
      &#125;,
      "id": 41,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_open_files&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Open Files",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_open_files_limit&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Open Files Limit",
          "metric": "",
          "refId": "D",
          "step": 20
        &#125;,
        &#123;
          "expr": "mysql_global_status_innodb_num_open_files&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "InnoDB Open Files",
          "refId": "B",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Open Files",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 120
      &#125;,
      "id": 393,
      "panels": [],
      "repeat": null,
      "title": "Table Openings",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Table Open Cache Status**\n\nThe recommendation is to set the `table_open_cache_instances` to a loose correlation to virtual CPUs, keeping in mind that more instances means the cache is split more times. If you have a cache set to 500 but it has 10 instances, each cache will only have 50 cached.\n\nThe `table_definition_cache` and `table_open_cache` can be left as default as they are auto-sized MySQL 5.6 and above (ie: do not set them to any value).",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 121
      &#125;,
      "id": 44,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Server Status Variables (table_open_cache)",
          "type": "absolute",
          "url": "http://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html#sysvar_table_open_cache"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Table Open Cache Hit Ratio",
          "yaxis": 2
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(mysql_global_status_opened_tables&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_opened_tables&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Openings",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "expr": "rate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Hits",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "expr": "rate(mysql_global_status_table_open_cache_misses&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_misses&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Misses",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "expr": "rate(mysql_global_status_table_open_cache_overflows&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_overflows&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Misses due to Overflows",
          "refId": "D",
          "step": 20
        &#125;,
        &#123;
          "expr": "(rate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[5m]))/((rate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_hits&#123;instance=\"$host\"&#125;[5m]))+(rate(mysql_global_status_table_open_cache_misses&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_table_open_cache_misses&#123;instance=\"$host\"&#125;[5m])))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Table Open Cache Hit Ratio",
          "refId": "E",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Table Open Cache Status",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "percentunit",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Open Tables**\n\nThe recommendation is to set the `table_open_cache_instances` to a loose correlation to virtual CPUs, keeping in mind that more instances means the cache is split more times. If you have a cache set to 500 but it has 10 instances, each cache will only have 50 cached.\n\nThe `table_definition_cache` and `table_open_cache` can be left as default as they are auto-sized MySQL 5.6 and above (ie: do not set them to any value).",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 121
      &#125;,
      "id": 42,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Server Status Variables (table_open_cache)",
          "type": "absolute",
          "url": "http://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html#sysvar_table_open_cache"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_open_tables&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Open Tables",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_table_open_cache&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Table Open Cache",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Open Tables",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 128
      &#125;,
      "id": 394,
      "panels": [],
      "repeat": null,
      "title": "MySQL Table Definition Cache",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "description": "**MySQL Table Definition Cache**\n\nThe recommendation is to set the `table_open_cache_instances` to a loose correlation to virtual CPUs, keeping in mind that more instances means the cache is split more times. If you have a cache set to 500 but it has 10 instances, each cache will only have 50 cached.\n\nThe `table_definition_cache` and `table_open_cache` can be left as default as they are auto-sized MySQL 5.6 and above (ie: do not set them to any value).",
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 129
      &#125;,
      "id": 54,
      "legend": &#123;
        "alignAsTable": true,
        "avg": true,
        "current": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [
        &#123;
          "title": "Server Status Variables (table_open_cache)",
          "type": "absolute",
          "url": "http://dev.mysql.com/doc/refman/5.6/en/server-system-variables.html#sysvar_table_open_cache"
        &#125;
      ],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Opened Table Definitions",
          "yaxis": 2
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_status_open_table_definitions&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Open Table Definitions",
          "metric": "",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "mysql_global_variables_table_definition_cache&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Table Definitions Cache Size",
          "metric": "",
          "refId": "C",
          "step": 20
        &#125;,
        &#123;
          "expr": "rate(mysql_global_status_opened_table_definitions&#123;instance=\"$host\"&#125;[$interval]) or irate(mysql_global_status_opened_table_definitions&#123;instance=\"$host\"&#125;[5m])",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Opened Table Definitions",
          "refId": "A",
          "step": 20
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "MySQL Table Definition Cache",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "short",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "collapsed": false,
      "gridPos": &#123;
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 136
      &#125;,
      "id": 395,
      "panels": [],
      "repeat": null,
      "title": "System Charts",
      "type": "row"
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 137
      &#125;,
      "id": 31,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(node_vmstat_pgpgin&#123;instance=\"$host\"&#125;[$interval]) * 1024 or irate(node_vmstat_pgpgin&#123;instance=\"$host\"&#125;[5m]) * 1024",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Page In",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(node_vmstat_pgpgout&#123;instance=\"$host\"&#125;[$interval]) * 1024 or irate(node_vmstat_pgpgout&#123;instance=\"$host\"&#125;[5m]) * 1024",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Page Out",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "I/O Activity",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "Bps",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 137
      &#125;,
      "height": "250px",
      "id": 37,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "node_memory_MemTotal&#123;instance=\"$host\"&#125; - (node_memory_MemFree&#123;instance=\"$host\"&#125; + node_memory_Buffers&#123;instance=\"$host\"&#125; + node_memory_Cached&#123;instance=\"$host\"&#125;)",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Used",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "node_memory_MemFree&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Free",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "node_memory_Buffers&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Buffers",
          "metric": "",
          "refId": "D",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "node_memory_Cached&#123;instance=\"$host\"&#125;",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Cached",
          "metric": "",
          "refId": "E",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Memory Distribution",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "bytes",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;
        "Load 1m": "#58140C",
        "Max Core Utilization": "#bf1b00",
        "iowait": "#e24d42",
        "nice": "#1f78c1",
        "softirq": "#806eb7",
        "system": "#eab839",
        "user": "#508642"
      &#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "editable": true,
      "error": false,
      "fill": 6,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 137
      &#125;,
      "height": "",
      "id": 2,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Max Core Utilization",
          "lines": false,
          "pointradius": 1,
          "points": true,
          "stack": false
        &#125;,
        &#123;
          "alias": "Load 1m",
          "color": "#58140C",
          "fill": 2,
          "stack": false,
          "yaxis": 2
        &#125;
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "clamp_max(((avg by (mode) ( (clamp_max(rate(node_cpu&#123;instance=\"$host\",mode!=\"idle\"&#125;[$interval]),1)) or (clamp_max(irate(node_cpu&#123;instance=\"$host\",mode!=\"idle\"&#125;[5m]),1)) ))*100 or (avg_over_time(node_cpu_average&#123;instance=~\"$host\", mode!=\"total\", mode!=\"idle\"&#125;[$interval]) or avg_over_time(node_cpu_average&#123;instance=~\"$host\", mode!=\"total\", mode!=\"idle\"&#125;[5m]))),100)",
          "format": "time_series",
          "hide": false,
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "&#123;&#123; mode &#125;&#125;",
          "metric": "",
          "refId": "A",
          "step": 20
        &#125;,
        &#123;
          "expr": "clamp_max(max by () (sum  by (cpu) ( (clamp_max(rate(node_cpu&#123;instance=\"$host\",mode!=\"idle\",mode!=\"iowait\"&#125;[$interval]),1)) or (clamp_max(irate(node_cpu&#123;instance=\"$host\",mode!=\"idle\",mode!=\"iowait\"&#125;[5m]),1)) ))*100,100)",
          "format": "time_series",
          "hide": true,
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Max Core Utilization",
          "refId": "B",
          "step": 20
        &#125;,
        &#123;
          "expr": "node_load1&#123;instance=\"$host\"&#125;",
          "format": "time_series",
          "hide": false,
          "intervalFactor": 2,
          "legendFormat": "Load 1m",
          "refId": "C"
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "CPU Usage / Load",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "decimals": 1,
          "format": "percent",
          "label": "",
          "logBase": 1,
          "max": 100,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "none",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": 2,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 144
      &#125;,
      "height": "250px",
      "id": 36,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": true,
        "hideZero": true,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "total": false,
        "values": true
      &#125;,
      "lines": false,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 1,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "sum((rate(node_disk_read_time_ms&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[$interval]) / rate(node_disk_reads_completed&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[$interval])) or (irate(node_disk_read_time_ms&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[5m]) / irate(node_disk_reads_completed&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[5m]))\nor avg_over_time(aws_rds_read_latency_average&#123;instance=\"$host\"&#125;[$interval]) or avg_over_time(aws_rds_read_latency_average&#123;instance=\"$host\"&#125;[5m]))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Read",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2m",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "sum((rate(node_disk_write_time_ms&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[$interval]) / rate(node_disk_writes_completed&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[$interval])) or (irate(node_disk_write_time_ms&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[5m]) / irate(node_disk_writes_completed&#123;device!~\"dm-.+\", instance=\"$host\"&#125;[5m])) or \navg_over_time(aws_rds_write_latency_average&#123;instance=\"$host\"&#125;[$interval]) or avg_over_time(aws_rds_write_latency_average&#123;instance=\"$host\"&#125;[5m]))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Write",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Disk Latency",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "ms",
          "label": "",
          "logBase": 2,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "ms",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 144
      &#125;,
      "height": "250px",
      "id": 21,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        &#123;
          "alias": "Outbound",
          "transform": "negative-Y"
        &#125;
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "sum(rate(node_network_receive_bytes&#123;instance=\"$host\", device!=\"lo\"&#125;[$interval])) or sum(irate(node_network_receive_bytes&#123;instance=\"$host\", device!=\"lo\"&#125;[5m])) or sum(max_over_time(rdsosmetrics_network_rx&#123;instance=\"$host\"&#125;[$interval])) or sum(max_over_time(rdsosmetrics_network_rx&#123;instance=\"$host\"&#125;[5m])) ",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Inbound",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "sum(rate(node_network_transmit_bytes&#123;instance=\"$host\", device!=\"lo\"&#125;[$interval])) or sum(irate(node_network_transmit_bytes&#123;instance=\"$host\", device!=\"lo\"&#125;[5m])) or\nsum(max_over_time(rdsosmetrics_network_tx&#123;instance=\"$host\"&#125;[$interval])) or sum(max_over_time(rdsosmetrics_network_tx&#123;instance=\"$host\"&#125;[5m]))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Outbound",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Network Traffic",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "Bps",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        &#125;,
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;,
    &#123;
      "aliasColors": &#123;&#125;,
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$&#123;DS_PROMETHEUS&#125;",
      "decimals": null,
      "editable": true,
      "error": false,
      "fill": 2,
      "grid": &#123;&#125;,
      "gridPos": &#123;
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 144
      &#125;,
      "id": 38,
      "legend": &#123;
        "alignAsTable": false,
        "avg": true,
        "current": false,
        "hideEmpty": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "avg",
        "sortDesc": true,
        "total": false,
        "values": true
      &#125;,
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "null",
      "percentage": false,
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(node_vmstat_pswpin&#123;instance=\"$host\"&#125;[$interval]) * 4096 or irate(node_vmstat_pswpin&#123;instance=\"$host\"&#125;[5m]) * 4096",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Swap In (Reads)",
          "metric": "",
          "refId": "A",
          "step": 20,
          "target": ""
        &#125;,
        &#123;
          "calculatedInterval": "2s",
          "datasourceErrors": &#123;&#125;,
          "errors": &#123;&#125;,
          "expr": "rate(node_vmstat_pswpout&#123;instance=\"$host\"&#125;[$interval]) * 4096 or irate(node_vmstat_pswpout&#123;instance=\"$host\"&#125;[5m]) * 4096",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "Swap Out (Writes)",
          "metric": "",
          "refId": "B",
          "step": 20,
          "target": ""
        &#125;
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeShift": null,
      "title": "Swap Activity",
      "tooltip": &#123;
        "msResolution": false,
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      &#125;,
      "transparent": false,
      "type": "graph",
      "xaxis": &#123;
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      &#125;,
      "yaxes": [
        &#123;
          "format": "Bps",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;,
        &#123;
          "format": "bytes",
          "logBase": 1,
          "max": null,
          "min": 0,
          "show": true
        &#125;
      ],
      "yaxis": &#123;
        "align": false,
        "alignLevel": null
      &#125;
    &#125;
  ],
  "refresh": "1m",
  "schemaVersion": 16,
  "style": "dark",
  "tags": [
    "Percona",
    "MySQL"
  ],
  "templating": &#123;
    "list": [
      &#123;
        "allFormat": "glob",
        "auto": true,
        "auto_count": 200,
        "auto_min": "1s",
        "current": &#123;
          "text": "auto",
          "value": "$__auto_interval_interval"
        &#125;,
        "datasource": "Prometheus",
        "hide": 0,
        "includeAll": false,
        "label": "Interval",
        "multi": false,
        "multiFormat": "glob",
        "name": "interval",
        "options": [
          &#123;
            "selected": true,
            "text": "auto",
            "value": "$__auto_interval_interval"
          &#125;,
          &#123;
            "selected": false,
            "text": "1s",
            "value": "1s"
          &#125;,
          &#123;
            "selected": false,
            "text": "5s",
            "value": "5s"
          &#125;,
          &#123;
            "selected": false,
            "text": "1m",
            "value": "1m"
          &#125;,
          &#123;
            "selected": false,
            "text": "5m",
            "value": "5m"
          &#125;,
          &#123;
            "selected": false,
            "text": "1h",
            "value": "1h"
          &#125;,
          &#123;
            "selected": false,
            "text": "6h",
            "value": "6h"
          &#125;,
          &#123;
            "selected": false,
            "text": "1d",
            "value": "1d"
          &#125;
        ],
        "query": "1s,5s,1m,5m,1h,6h,1d",
        "refresh": 2,
        "type": "interval"
      &#125;,
      &#123;
        "allFormat": "glob",
        "allValue": null,
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROMETHEUS&#125;",
        "hide": 0,
        "includeAll": false,
        "label": "Host",
        "multi": false,
        "multiFormat": "regex values",
        "name": "host",
        "options": [],
        "query": "label_values(mysql_up, instance)",
        "refresh": 1,
        "refresh_on_load": false,
        "regex": "",
        "sort": 1,
        "tagValuesQuery": null,
        "tags": [],
        "tagsQuery": null,
        "type": "query",
        "useTags": false
      &#125;
    ]
  &#125;,
  "time": &#123;
    "from": "now/d",
    "to": "now/d"
  &#125;,
  "timepicker": &#123;
    "collapse": false,
    "enable": true,
    "hidden": false,
    "notice": false,
    "now": true,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "status": "Stable",
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ],
    "type": "timepicker"
  &#125;,
  "timezone": "browser",
  "title": "MySQL Overview",
  "uid": "MQWgroiiz",
  "version": 1
&#125;
</code></pre> </details>  



<h3 id="3-监控Redis（redis-exporter）"><a href="#3-监控Redis（redis-exporter）" class="headerlink" title="3.监控Redis（redis_exporter）"></a>3.监控Redis（redis_exporter）</h3><p> 安装redis_exporter </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local/ -xvf redis_exporter-v0.15.0.linux-amd64.tar</span><br></pre></td></tr></table></figure>

<p> 启动redis_exporter </p>
<p>默认redis_exporter端口为9121</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/redis_exporter redis//192.168.0.103:6379 &amp; -web.listenaddress 192.168.0.103:9121</span><br></pre></td></tr></table></figure>

<p> prometheus配置文件中加入redis监控并重启 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/Prometheus/prometheus.yml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认redis-exporter端口为9121</span></span><br><span class="line">- job_name: <span class="string">&#x27;Redis&#x27;</span></span><br><span class="line">    static_configs:</span><br><span class="line">    - targets: [<span class="string">&#x27;192.168.0.103:9121&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p> grafana导入画好的dashboard </p>
<details>   <summary>dashboard-redis.json</summary>   <pre><code>
&#123;
  "__inputs": [
    &#123;
      "name": "DS_PROM",
      "label": "prom",
      "description": "Prometheus Data Source",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    &#125;
  ],
  "__requires": [
    &#123;
      "type": "panel",
      "id": "singlestat",
      "name": "Singlestat",
      "version": ""
    &#125;,
    &#123;
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": ""
    &#125;,
    &#123;
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "3.1.1"
    &#125;,
    &#123;
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    &#125;
  ],
  "id": null,
  "title": "Prometheus Redis",
  "description": "Prometheus dashboard for Redis servers",
  "tags": [
    "prometheus",
    "redis"
  ],
  "style": "dark",
  "timezone": "browser",
  "editable": true,
  "hideControls": false,
  "sharedCrosshair": false,
  "rows": [
    &#123;
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        &#123;
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "datasource": "$&#123;DS_PROM&#125;",
          "decimals": 0,
          "editable": true,
          "error": false,
          "format": "s",
          "gauge": &#123;
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          &#125;,
          "id": 9,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            &#123;
              "name": "value to text",
              "value": 1
            &#125;,
            &#123;
              "name": "range to text",
              "value": 2
            &#125;
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            &#123;
              "from": "null",
              "text": "N/A",
              "to": "null"
            &#125;
          ],
          "span": 1,
          "sparkline": &#123;
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          &#125;,
          "targets": [
            &#123;
              "expr": "redis_uptime_in_seconds&#123;addr=\"$addr\"&#125;",
              "intervalFactor": 2,
              "legendFormat": "",
              "metric": "",
              "refId": "A",
              "step": 1800
            &#125;
          ],
          "thresholds": "",
          "title": "Uptime",
          "type": "singlestat",
          "valueFontSize": "70%",
          "valueMaps": [
            &#123;
              "op": "=",
              "text": "N/A",
              "value": "null"
            &#125;
          ],
          "valueName": "avg"
        &#125;,
        &#123;
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "datasource": "$&#123;DS_PROM&#125;",
          "decimals": 0,
          "editable": true,
          "error": false,
          "format": "none",
          "gauge": &#123;
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          &#125;,
          "hideTimeOverride": true,
          "id": 12,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            &#123;
              "name": "value to text",
              "value": 1
            &#125;,
            &#123;
              "name": "range to text",
              "value": 2
            &#125;
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            &#123;
              "from": "null",
              "text": "N/A",
              "to": "null"
            &#125;
          ],
          "span": 1,
          "sparkline": &#123;
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          &#125;,
          "targets": [
            &#123;
              "expr": "redis_connected_clients&#123;addr=\"$addr\"&#125;",
              "intervalFactor": 2,
              "legendFormat": "",
              "metric": "",
              "refId": "A",
              "step": 2
            &#125;
          ],
          "thresholds": "",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Clients",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            &#123;
              "op": "=",
              "text": "N/A",
              "value": "null"
            &#125;
          ],
          "valueName": "current"
        &#125;,
        &#123;
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "$&#123;DS_PROM&#125;",
          "decimals": 0,
          "editable": true,
          "error": false,
          "format": "percent",
          "gauge": &#123;
            "maxValue": 100,
            "minValue": 0,
            "show": true,
            "thresholdLabels": false,
            "thresholdMarkers": true
          &#125;,
          "hideTimeOverride": true,
          "id": 11,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            &#123;
              "name": "value to text",
              "value": 1
            &#125;,
            &#123;
              "name": "range to text",
              "value": 2
            &#125;
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            &#123;
              "from": "null",
              "text": "N/A",
              "to": "null"
            &#125;
          ],
          "span": 2,
          "sparkline": &#123;
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          &#125;,
          "targets": [
            &#123;
              "expr": "100 * (redis_memory_used_bytes&#123;addr=~\"$addr\"&#125;  / redis_config_maxmemory&#123;addr=~\"$addr\"&#125; )",
              "intervalFactor": 2,
              "legendFormat": "",
              "metric": "",
              "refId": "A",
              "step": 2
            &#125;
          ],
          "thresholds": "80,95",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Memory Usage",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            &#123;
              "op": "=",
              "text": "N/A",
              "value": "null"
            &#125;
          ],
          "valueName": "current"
        &#125;,
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 2,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 4,
          "stack": false,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "rate(redis_commands_processed_total&#123;addr=~\"$addr\"&#125;[5m])",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "",
              "metric": "A",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Commands Executed / sec",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;,
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "decimals": 2,
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 1,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": true,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 4,
          "stack": false,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "irate(redis_keyspace_hits_total&#123;addr=\"$addr\"&#125;[5m])",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "hits",
              "metric": "",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;,
            &#123;
              "expr": "irate(redis_keyspace_misses_total&#123;addr=\"$addr\"&#125;[5m])",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "misses",
              "metric": "",
              "refId": "B",
              "step": 240,
              "target": ""
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Hits / Misses per Sec",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": 0,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;
      ],
      "title": "Row"
    &#125;,
    &#123;
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        &#123;
          "aliasColors": &#123;
            "max": "#BF1B00"
          &#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 7,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null as zero",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 6,
          "stack": false,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "redis_memory_used_bytes&#123;addr=~\"$addr\"&#125; ",
              "intervalFactor": 2,
              "legendFormat": "used",
              "metric": "",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;,
            &#123;
              "expr": "redis_config_maxmemory&#123;addr=~\"$addr\"&#125; ",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "max",
              "refId": "B",
              "step": 240
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Memory Usage",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": 0,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;,
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 10,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 6,
          "stack": false,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "rate(redis_net_input_bytes_total&#123;addr=\"$addr\"&#125;[5m])",
              "intervalFactor": 2,
              "legendFormat": "&#123;&#123; input &#125;&#125;",
              "refId": "A",
              "step": 240
            &#125;,
            &#123;
              "expr": "rate(redis_net_output_bytes_total&#123;addr=\"$addr\"&#125;[5m])",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "&#123;&#123; output &#125;&#125;",
              "refId": "B",
              "step": 240
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Network I/O",
          "tooltip": &#123;
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;
      ],
      "title": "New row"
    &#125;,
    &#123;
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 7,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 5,
          "isNew": true,
          "legend": &#123;
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 6,
          "stack": true,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "sum (redis_db_keys&#123;addr=~\"$addr\"&#125;) by (db)",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "&#123;&#123; db &#125;&#125; ",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Total Items per DB",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;,
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 7,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 13,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 6,
          "stack": true,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "sum (redis_db_keys&#123;addr=~\"$addr\"&#125;) - sum (redis_db_keys_expiring&#123;addr=~\"$addr\"&#125;) ",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "not expiring",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;,
            &#123;
              "expr": "sum (redis_db_keys_expiring&#123;addr=~\"$addr\"&#125;) ",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "expiring",
              "metric": "",
              "refId": "B",
              "step": 240
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Expiring vs Not-Expiring Keys",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;,
        &#123;
          "aliasColors": &#123;
            "evicts": "#890F02",
            "memcached_items_evicted_total&#123;instance=\"172.17.0.1:9150\",job=\"prometheus\"&#125;": "#890F02",
            "reclaims": "#3F6833"
          &#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 8,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            &#123;
              "alias": "reclaims",
              "yaxis": 2
            &#125;
          ],
          "span": 6,
          "stack": false,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "sum(rate(redis_expired_keys_total&#123;addr=~\"$addr\"&#125;[5m])) by (addr)",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "expired",
              "metric": "",
              "refId": "A",
              "step": 240,
              "target": ""
            &#125;,
            &#123;
              "expr": "sum(rate(redis_evicted_keys_total&#123;addr=~\"$addr\"&#125;[5m])) by (addr)",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "evicted",
              "refId": "B",
              "step": 240
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Expired / Evicted",
          "tooltip": &#123;
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;,
        &#123;
          "aliasColors": &#123;&#125;,
          "bars": false,
          "datasource": "$&#123;DS_PROM&#125;",
          "editable": true,
          "error": false,
          "fill": 8,
          "grid": &#123;
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          &#125;,
          "id": 14,
          "isNew": true,
          "legend": &#123;
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          &#125;,
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 6,
          "stack": true,
          "steppedLine": false,
          "targets": [
            &#123;
              "expr": "topk(5, irate(redis_command_call_duration_seconds_count&#123;addr=~\"$addr\"&#125; [1m]))",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "&#123;&#123; cmd &#125;&#125;",
              "metric": "redis_command_calls_total",
              "refId": "A",
              "step": 240
            &#125;
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Command Calls / sec",
          "tooltip": &#123;
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          &#125;,
          "type": "graph",
          "xaxis": &#123;
            "show": true
          &#125;,
          "yaxes": [
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;,
            &#123;
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            &#125;
          ]
        &#125;
      ],
      "title": "New row"
    &#125;
  ],
  "time": &#123;
    "from": "now-24h",
    "to": "now"
  &#125;,
  "timepicker": &#123;
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  &#125;,
  "templating": &#123;
    "list": [
      &#123;
        "current": &#123;&#125;,
        "datasource": "$&#123;DS_PROM&#125;",
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "addr",
        "options": [],
        "query": "label_values(redis_connected_clients, addr)",
        "refresh": 1,
        "regex": "",
        "type": "query"
      &#125;
    ]
  &#125;,
  "annotations": &#123;
    "list": []
  &#125;,
  "refresh": "30s",
  "schemaVersion": 12,
  "version": 52,
  "links": [],
  "gnetId": 763
&#125;
</code></pre> </details>  





<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/ywd1992/article/details/85989259" >原文来自 咖啡那么浓<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/20241121/Mysql/4ac8a5b1ad38/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Mysql问题汇总</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/20241121/Docker/c353c8619853/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">docker之日志清理</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;评论</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: 'BEMpJudeFXa6gjjzQJLS7NdH-gzGzoHsz',
                    appKey: 'AQI7N2UG34MNLRmctkce1siE',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: '客官,留下点什么吧!',
                    lang: 'zh-CN'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return '博主';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'LiuSw';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2025&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">LiuSw</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
 
                   <!-- 特殊符号显示ღゝ◡╹)ノ♡  -->
                   <span id="binft" class="my-face" style="color:#FF00FF">ღゝ◡╹)ノ♡</span>
                    <script>
                      var binft = function (r) {
                        function t() {
                        return b[Math.floor(Math.random() * b.length)]
                      }  
                      function e() {
                        return String.fromCharCode(94 * Math.random() + 1)
                      }
                      function n(r) {
                        for (var n = document.createDocumentFragment(), i = 0; r > i; i++) {
                          var l = document.createElement("span");
                          l.textContent = e(), l.style.color = t(), n.appendChild(l)
                        }
                        return n
                      }
                      function i() {
                        var t = o[c.skillI];
                        c.step ? c.step-- : (c.step = g, c.prefixP < l.length ? (c.prefixP >= 0 && (c.text += l[c.prefixP]), c.prefixP++) : "forward" === c.direction ? c.skillP < t.length ? (c.text += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = "backward", c.delay = a) : c.skillP > 0 ? (c.text = c.text.slice(0, -1), c.skillP--) : (c.skillI = (c.skillI + 1) % o.length, c.direction = "forward")), r.textContent = c.text, r.appendChild(n(c.prefixP < l.length ? Math.min(s, s + c.prefixP) : Math.min(s, t.length - c.skillP))), setTimeout(i, d)
                      }
                      var l = "",
                      o = ["ღ","ღゝ◡","ღゝ◡╹)","ღゝ◡╹)ノ♡"].map(function (r) {
                      return r + ""
                      }),
                      a = 2,
                      g = 1,
                      s = 5,
                      d = 75,
                      b = ["rgb(110,64,170)", "rgb(150,61,179)", "rgb(191,60,175)", "rgb(228,65,157)", "rgb(254,75,131)", "rgb(255,94,99)", "rgb(255,120,71)", "rgb(251,150,51)", "rgb(226,183,47)", "rgb(198,214,60)", "rgb(175,240,91)", "rgb(127,246,88)", "rgb(82,246,103)", "rgb(48,239,130)", "rgb(29,223,163)", "rgb(26,199,194)", "rgb(35,171,216)", "rgb(54,140,225)", "rgb(76,110,219)", "rgb(96,84,200)"],
                      c = {
                        text: "",
                        prefixP: -s,
                        skillI: 0,
                        skillP: 0,
                        direction: "forward",
                        delay: a,
                        step: g
                      };
                      i()
                      };
                      binft(document.getElementById('binft'));
                    </script>
                   <!--特殊符号代码结束 -->


                   <!--新增天数代码 -->
                    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
                      <script>
                        var now = new Date(); 
                        function createtime() { 
                          var grt= new Date("01/01/2019 00:00:00");//在此处修改你的建站时间
                          now.setTime(now.getTime()+250); 
                          days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                          if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                          mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                          snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                          document.getElementById("timeDate").innerHTML = "<br> 本站已安全运行 " + '<font style=color:#0aa858>' + dnum + '</font>' + " 天 "; 
                          document.getElementById("times").innerHTML = ' <font style=color:#2d85f0>' + hnum + '</font>' + " 小时 " + '<font style=color:#f4433c>' + mnum + '</font>' + " 分 " + '<font style=color:#ffbc32>' + snum + '</font>' + " 秒"; 
                        } 
                        setInterval("createtime()",250);
                      </script>
                     <!--新增天数结束 -->

                    </span>
                
            </div>
        
        <div class="theme-info info-item">
          <!--  由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a> -->
        </div>
        
            <div class="icp-info info-item"><a target="_blank" rel="nofollow" href="https://beian.miit.gov.cn"> <img style="margin:0 0 -4px 0" src="/images/备案图标.png" />  吉ICP备 2020008057号-1</a></div>
        
        
    </div>


</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Prometheus%E6%99%AE%E7%BD%97%E7%B1%B3%E4%BF%AE%E6%96%AF%E4%B9%8B%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8"><span class="nav-text">Prometheus普罗米修斯之安装配置使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83"><span class="nav-text">一、基础环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85go"><span class="nav-text">二、安装go</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85Prometheus"><span class="nav-text">三、安装Prometheus</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%AE%89%E8%A3%85Grafana"><span class="nav-text">四、安装Grafana</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9B%91%E6%8E%A7%E4%B8%BE%E4%BE%8B"><span class="nav-text">五、一些常用监控举例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%91%E6%8E%A7linux%E6%9C%BA%E5%99%A8%EF%BC%88node-exporter%EF%BC%89"><span class="nav-text">1.监控linux机器（node-exporter）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%9B%91%E6%8E%A7MySQL%EF%BC%88mysqld-exporter%EF%BC%89"><span class="nav-text">2.监控MySQL（mysqld-exporter）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%9B%91%E6%8E%A7Redis%EF%BC%88redis-exporter%EF%BC%89"><span class="nav-text">3.监控Redis（redis_exporter）</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>





<script type="text/javascript" src="https://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<!-- 页面点击小红心 -->
<!-- <script type="text/javascript" src="/js/love.js"></script> -->
<!-- 浏览器搞笑标题 -->
<script type="text/javascript" src="/js/FunnyTitle.js"></script>
<!-- 雪花特效 -->
<!-- < script type="text/javascript" src="/js/snow.js"></script> -->
<!-- 左下小人 -->
<script type="text/javascript" src="/js/wali-svg.js"></script>
<!-- 点击烟花 -->
<script type="text/javascript" src="/js/yanhua.js"></script>
<!-- 背景添加动态线条效果 -->
<script type="text/javascript" color="102,204,255" opacity='4' zIndex="1" count="60" src="/js/canvas-nest.min.js" ></script> 
<!-- 样式二（飘动的彩带） -->
<script type="text/javascript" src="/js/ribbon.js"></script>


</body>
</html>
